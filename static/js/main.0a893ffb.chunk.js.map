{"version":3,"sources":["components/Chat/Chat.js","components/Join/Join.js","components/InfoBar/InfoBar.js","components/Input/Input.js","components/Messages/Message/Message.js","components/Messages/Messages.js","components/TextContainer/TextContainer.js","App.js","index.js","images/onlineIcon.png","images/close.png"],"names":["socket","Join","useState","name","setName","room","setRoom","className","placeholder","type","onChange","e","target","value","onClick","preventDefault","to","pathname","state","InfoBar","Input","message","setMessage","sendMessage","onSubmit","Message","user","text","isSentByCurrentUser","Messages","messages","map","index","key","TextContainer","users","src","icon","alt","Chat","location","history","setUsers","setMessages","ENDPOINT","useEffect","io","emit","error","push","alert","off","on","href","close","App","exact","path","component","ReactDOM","render","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.0a893ffb.chunk.js","sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport io from 'socket.io-client';\r\nimport InfoBar from '../InfoBar/InfoBar'\r\nimport Input from '../Input/Input'\r\nimport Messages from '../Messages/Messages'\r\nimport TextContainer from '../TextContainer/TextContainer'\r\nimport './Chat.css'\r\nimport close from '../../images/close.png';\r\n\r\nlet socket;\r\n\r\nconst Chat = ({location, history}) => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [room, setRoom] = useState('');\r\n \tconst [users, setUsers] = useState('');\r\n\tconst [message, setMessage] = useState('');\r\n\tconst [messages, setMessages] = useState([]);\r\n\tconst ENDPOINT = \"https://chat-app323.herokuapp.com/\"\r\n\r\n\tuseEffect(() => {\r\n\r\n\t\tconst { name, room } = location.state\r\n\r\n\t\tsocket = io(ENDPOINT)\r\n\r\n\t\tsetName(name);\r\n\t\tsetRoom(room);\r\n\t\t\r\n\t\tsocket.emit('join', {name, room}, (error) => {\r\n\t\t\t if(error) {\r\n\t\thistory.push(\"\")\r\n        alert(error);\r\n      }\r\n\t\t})\r\n\r\n\r\n\r\n\r\n\t\treturn ()  => {\r\n\t\t\tsocket.emit('disconnect');\r\n\r\n\t\t\tsocket.off();\r\n\t\t}\r\n\r\n\r\n\r\n\t}, [ENDPOINT, location.state, history])\r\n\r\n\tuseEffect(() => {\r\n\t\tsocket.on('message', (message) => {\r\n\t\t\tsetMessages([...messages, message])\r\n\t\t})\r\n\r\n\t\tsocket.on(\"roomData\", ({ users }) => {\r\n      setUsers(users);\r\n      \t})\r\n\t}, [messages])\r\n\r\n\r\n\tconst sendMessage = (e) => {\r\n\t\te.preventDefault();\r\n\r\n\t\tif(message) {\r\n\t\t\tsocket.emit('sendMessage', message, () => setMessage('') )\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\t\t<div className=\"chat\">\r\n\t\t\t<div className=\"chat__inner\">\r\n\t\t\t\t<div className=\"info\">\r\n\t\t\t\t\t<InfoBar room={room} name={name}/>\r\n\t\t\t\t\t<TextContainer users={users}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className=\"messages-block\">\r\n\t\t\t\t\t<a className=\"close\" href='./'><img className=\"close-img\" src={close} alt=\"close\"/></a>\r\n\t\t\t\t\t<Messages room={room} messages={messages} name={name}/>\r\n\t\t\t\t\t<Input message={message} setMessage={setMessage} sendMessage={sendMessage}/>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t)\r\n}\r\n\r\nexport default Chat","import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './Join.css';\r\n\r\n\r\nconst Join = () => {\r\n\tconst [name, setName] = useState('');\r\n\tconst [room, setRoom] = useState('');\r\n\t\r\n\treturn (\r\n\t\t<div className=\"join\">\r\n\t\t\t<div className=\"join__inner\">\r\n\t\t\t\t<h1>Chat app</h1>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input className=\"join__input\" placeholder=\"Name\" type=\"text\" onChange={(e) => setName(e.target.value)}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<input className=\"join__input\" placeholder=\"Room\" type=\"text\" onChange={(e) => setRoom(e.target.value)}/>\r\n\t\t\t\t\t<p className=\"join__test\">test: testroom</p>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Link onClick={e => (!room || !name) ? e.preventDefault() : null} to={{pathname: `/chat`, state: {name: name, room: room}}}>\r\n\t\t\t\t\t<button className=\"join__btn\" type=\"submit\">Sign in</button>\r\n\t\t\t\t</Link>\t\t\t\t\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default Join","import React from 'react';\r\nimport './InfoBar.css'\r\n\r\nconst InfoBar = ({room, name}) => (\r\n\t\t<div className=\"infoBar\">\r\n\t\t\tCurrent room: {room}\r\n\t\t</div>\r\n\t)\r\n\r\nexport default InfoBar","import React from 'react';\r\nimport './Input.css'\r\n\r\nconst Input = ({message, setMessage, sendMessage}) => (\r\n\t<div>\r\n\t\t<form className=\"input-form\" onSubmit={(e)=>sendMessage(e)}>\r\n\t\t\t<input className=\"input-message\"\r\n\t\t\tplaceholder=\"Type a message...\"\r\n\t\t\tvalue={message}\r\n\t\t\tonChange={(e) => setMessage(e.target.value)}\r\n\t\t\ttype=\"text\"/>\r\n\t\t\t<button className=\"send-btn\"></button>\r\n\t\t</form>\r\n\t</div>\r\n)\r\n\r\nexport default Input","import React from 'react';\r\nimport './Message.css'\r\n\r\n\r\nconst Message = ({message: {user, text}, name}) => {\r\n\r\n\tlet isSentByCurrentUser = false;\r\n\r\n\tif(user === name) {\r\n\t\tisSentByCurrentUser = true;\r\n\t}\r\n\r\n\treturn (\t\r\n\t\t<div className={`message + ${isSentByCurrentUser ? \"message-current\" :  \"message-other\"}`}>\r\n\t\t\t<div className=\"message-info\">\r\n\t\t\t\t<p className=\"user\">{user ? user : null}</p>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<p className=\"text\">{text}</p>\r\n\t\t\t</div>\r\n\t\t</div>\t\r\n\t)\r\n}\r\n\r\nexport default Message","import React from 'react';\r\nimport ScrollToBottom from 'react-scroll-to-bottom';\r\nimport Message from './Message/Message';\r\nimport './Messages.css'\r\n\r\n\r\nconst Messages = ({messages, name, room}) => {\r\n\r\nreturn (\r\n\t\t<ScrollToBottom className=\"messages\">\r\n\t\t\t{messages.map((message, index) => \r\n\t\t\t\t<div className=\"messages__inner\" key={index}>\r\n\t\t\t\t\t<Message message={message} name={name}/>\r\n\t\t\t\t</div>)}\r\n\t\t</ScrollToBottom>\r\n\t)\r\n}\r\n\r\nexport default Messages","import React from 'react';\r\nimport './TextContainer.css'\r\nimport icon from '../../images/onlineIcon.png'\r\n\r\nconst TextContainer = ({users}) => (\r\n\t<div>\r\n\t\t{users ?\r\n\t\t\t(<div className=\"users\">\r\n\t\t\t\t{users.map(({name}) => (\r\n\t                <div className=\"user__inner\" key={name}>\r\n\t        \t        <img className=\"icon\" src={icon} alt=\"online\"/>\r\n\t                    {name}\r\n\t                </div>\r\n\t               ))}\r\n\t\t\t</div>) : null\r\n\t\t}\r\n\t</div>\r\n\t)\r\n\r\n\r\nexport default TextContainer","import React from 'react';\nimport { HashRouter as Router, Route, Switch} from \"react-router-dom\";\n\nimport Join from \"./components/Join/Join\";\nimport Chat from \"./components/Chat/Chat\";\n\n\nconst App = () => (\n  <Router>\n  \t<Switch>\n    \t<Route exact path=\"/\" component={Join} />\n    \t<Route path=\"/chat\" component={Chat} />\n    </Switch>\n  </Router>\n)\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAQAAAD41aSMAAACYElEQVR4AezBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAACYnTu4TRyMoij8CrALSkjdg/ckUxAuwCNlczdZgDzSyUXnuYL/OyAEP3o/zsdcZ5mmWWebt9fh3+eYW1GCdf7OMfck6Oc/kqCE//hO8P4i/ElQxN+fIPw1CcLfniD8bIIT/Elw6edvSBD+/gThr0kQ/oIEJ/iToII/zz6XRv6CBOFnEgD8SVDEX5Pg+thhkqCAP8+f+fWzzOcTB/qcpYM/LxgTyF+QAOA3AcBvAoDfBPIDCeQHEsjPJJAfTyA/nWCV/3/PCiQA+E0A8JsA4DeB/AUJAH4TAPwmAPhNAPObgOc3gfznE3w9gfQ1q/wFCQB+EwD8JgD5TYDzmwDnNwHObwKc3wQ4vwlwfhPA/CaQH/77SAG/CQB+EwD8JgD4TQDwm6CH3wQovwlQfhOg/CaA+E0gvwHkN4EfwvKbwC9i8pvAH+PkN4EXMvKbwEv5V+W/zc0EJP+CLsORn99HJL8JcH4T4PwmwPlNgPObAOc3AcVvAoDfBAB/wZ5S+YHFaPKbAOA3AcBvggJ+EwD8JgD4TVDAbwKA3wQAvwkAfmArl/wmKOA3AcBvggJ+IIH8QAL5TVDADySQH0ggP5BAfhNsRfzPJ9jm18/73B/nL3vP3udtMs0Jwl+QoIk/CXr4k6CfP3OZewt/EgD8QILwFyTo5E+CvYU/CQr4TyUIf0uC8PcnCH9Bgn7+JOjhT4Lw98/H7EX8SdDPP0lwLeFPgu1n/n/twYEAAAAAAJD/ayOoqqqqqqqqqqqqqqqqqqoCvFW+hrEVBt4AAAAASUVORK5CYII=\""],"sourceRoot":""}