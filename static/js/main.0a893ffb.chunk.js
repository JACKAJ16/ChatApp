(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{105:function(e,t){},108:function(e,t,a){},109:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},148:function(e,t,a){},149:function(e,t,a){"use strict";a.r(t);var n,c=a(0),s=a.n(c),r=a(59),m=a.n(r),l=a(18),A=a(6),o=a(5),u=(a(72),function(){var e=Object(c.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),m=Object(o.a)(r,2),A=m[0],u=m[1];return s.a.createElement("div",{className:"join"},s.a.createElement("div",{className:"join__inner"},s.a.createElement("h1",null,"Chat app"),s.a.createElement("div",null,s.a.createElement("input",{className:"join__input",placeholder:"Name",type:"text",onChange:function(e){return n(e.target.value)}})),s.a.createElement("div",null,s.a.createElement("input",{className:"join__input",placeholder:"Room",type:"text",onChange:function(e){return u(e.target.value)}}),s.a.createElement("p",{className:"join__test"},"test: testroom")),s.a.createElement(l.b,{onClick:function(e){return A&&a?null:e.preventDefault()},to:{pathname:"/chat",state:{name:a,room:A}}},s.a.createElement("button",{className:"join__btn",type:"submit"},"Sign in"))))}),i=a(66),E=a(62),f=a.n(E),g=(a(108),function(e){var t=e.room;e.name;return s.a.createElement("div",{className:"infoBar"},"Current room: ",t)}),v=(a(109),function(e){var t=e.message,a=e.setMessage,n=e.sendMessage;return s.a.createElement("div",null,s.a.createElement("form",{className:"input-form",onSubmit:function(e){return n(e)}},s.a.createElement("input",{className:"input-message",placeholder:"Type a message...",value:t,onChange:function(e){return a(e.target.value)},type:"text"}),s.a.createElement("button",{className:"send-btn"})))}),p=a(63),w=a.n(p),h=(a(145),function(e){var t=e.message,a=t.user,n=t.text,c=!1;return a===e.name&&(c=!0),s.a.createElement("div",{className:"message + ".concat(c?"message-current":"message-other")},s.a.createElement("div",{className:"message-info"},s.a.createElement("p",{className:"user"},a||null)),s.a.createElement("div",null,s.a.createElement("p",{className:"text"},n)))}),C=(a(146),function(e){var t=e.messages,a=e.name;e.room;return s.a.createElement(w.a,{className:"messages"},t.map((function(e,t){return s.a.createElement("div",{className:"messages__inner",key:t},s.a.createElement(h,{message:e,name:a}))})))}),O=(a(147),a(64)),b=a.n(O),N=function(e){var t=e.users;return s.a.createElement("div",null,t?s.a.createElement("div",{className:"users"},t.map((function(e){var t=e.name;return s.a.createElement("div",{className:"user__inner",key:t},s.a.createElement("img",{className:"icon",src:b.a,alt:"online"}),t)}))):null)},d=(a(148),a(65)),D=a.n(d),j=function(e){var t=e.location,a=e.history,r=Object(c.useState)(""),m=Object(o.a)(r,2),l=m[0],A=m[1],u=Object(c.useState)(""),E=Object(o.a)(u,2),p=E[0],w=E[1],h=Object(c.useState)(""),O=Object(o.a)(h,2),b=O[0],d=O[1],j=Object(c.useState)(""),P=Object(o.a)(j,2),Q=P[0],B=P[1],S=Object(c.useState)([]),I=Object(o.a)(S,2),J=I[0],q=I[1],k="https://chat-app323.herokuapp.com/";Object(c.useEffect)((function(){var e=t.state,c=e.name,s=e.room;return n=f()(k),A(c),w(s),n.emit("join",{name:c,room:s},(function(e){e&&(a.push(""),alert(e))})),function(){n.emit("disconnect"),n.off()}}),[k,t.state,a]),Object(c.useEffect)((function(){n.on("message",(function(e){q([].concat(Object(i.a)(J),[e]))})),n.on("roomData",(function(e){var t=e.users;d(t)}))}),[J]);return s.a.createElement("div",{className:"chat"},s.a.createElement("div",{className:"chat__inner"},s.a.createElement("div",{className:"info"},s.a.createElement(g,{room:p,name:l}),s.a.createElement(N,{users:b})),s.a.createElement("div",{className:"messages-block"},s.a.createElement("a",{className:"close",href:"./"},s.a.createElement("img",{className:"close-img",src:D.a,alt:"close"})),s.a.createElement(C,{room:p,messages:J,name:l}),s.a.createElement(v,{message:Q,setMessage:B,sendMessage:function(e){e.preventDefault(),Q&&n.emit("sendMessage",Q,(function(){return B("")}))}}))))},P=function(){return s.a.createElement(l.a,null,s.a.createElement(A.c,null,s.a.createElement(A.a,{exact:!0,path:"/",component:u}),s.a.createElement(A.a,{path:"/chat",component:j})))};m.a.render(s.a.createElement(P,null),document.getElementById("root"))},64:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAGCAYAAADgzO9IAAAAAXNSR0IArs4c6QAAAExJREFUCB1jbPh/le3lx5tNDIwMcQwg8J9hkTi/eh0LWJCBoRwoAAPlQDEGJrhKmDCIBupmQuYjs5lAZiILgNlAMRaQRSAz4UZCLQcAIwYaiAejKoYAAAAASUVORK5CYII="},65:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAQAAAD41aSMAAACYElEQVR4AezBgQAAAACAoP2pF6kCAAAAAAAAAAAAAAAAAACYnTu4TRyMoij8CrALSkjdg/ckUxAuwCNlczdZgDzSyUXnuYL/OyAEP3o/zsdcZ5mmWWebt9fh3+eYW1GCdf7OMfck6Oc/kqCE//hO8P4i/ElQxN+fIPw1CcLfniD8bIIT/Elw6edvSBD+/gThr0kQ/oIEJ/iToII/zz6XRv6CBOFnEgD8SVDEX5Pg+thhkqCAP8+f+fWzzOcTB/qcpYM/LxgTyF+QAOA3AcBvAoDfBPIDCeQHEsjPJJAfTyA/nWCV/3/PCiQA+E0A8JsA4DeB/AUJAH4TAPwmAPhNAPObgOc3gfznE3w9gfQ1q/wFCQB+EwD8JgD5TYDzmwDnNwHObwKc3wQ4vwlwfhPA/CaQH/77SAG/CQB+EwD8JgD4TQDwm6CH3wQovwlQfhOg/CaA+E0gvwHkN4EfwvKbwC9i8pvAH+PkN4EXMvKbwEv5V+W/zc0EJP+CLsORn99HJL8JcH4T4PwmwPlNgPObAOc3AcVvAoDfBAB/wZ5S+YHFaPKbAOA3AcBvggJ+EwD8JgD4TVDAbwKA3wQAvwkAfmArl/wmKOA3AcBvggJ+IIH8QAL5TVDADySQH0ggP5BAfhNsRfzPJ9jm18/73B/nL3vP3udtMs0Jwl+QoIk/CXr4k6CfP3OZewt/EgD8QILwFyTo5E+CvYU/CQr4TyUIf0uC8PcnCH9Bgn7+JOjhT4Lw98/H7EX8SdDPP0lwLeFPgu1n/n/twYEAAAAAAJD/ayOoqqqqqqqqqqqqqqqqqqoCvFW+hrEVBt4AAAAASUVORK5CYII="},67:function(e,t,a){e.exports=a(149)},72:function(e,t,a){}},[[67,1,2]]]);
//# sourceMappingURL=main.0a893ffb.chunk.js.map